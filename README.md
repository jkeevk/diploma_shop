# Дипломный проект: Backend-приложение для автоматизации закупок

## Описание проекта

Данный проект представляет собой backend-приложение для автоматизации закупок в розничной сети. Приложение разработано на Django Rest Framework и предоставляет REST API для взаимодействия с сервисом. Основная цель проекта — автоматизация процессов заказа товаров, управление заказами, импорт и экспорт товаров, а также интеграция с email-уведомлениями.

## Цель проекта

Разработка backend-части сервиса заказа товаров для розничных сетей, включая:
- Проработку моделей данных с использованием Django ORM.
- Реализацию импорта и экспорта товаров.
- Внедрение системы управления заказами.
- Интеграцию с email-уведомлениями для подтверждения заказов и уведомлений поставщиков.

## Основные функции

### Для клиентов (покупателей):
- Регистрация, авторизация и восстановление пароля через API.
- Просмотр каталога товаров от нескольких поставщиков.
- Формирование заказов с товарами от разных поставщиков.
- Получение подтверждения заказа по email.
- Просмотр истории заказов и их статусов.

### Для поставщиков:
- Обновление прайс-листов через API.
- Управление приёмом заказов (включение/отключение).
- Получение списка заказов с товарами из их прайс-листов.
- Получение уведомления о поступившем заказе по email.
- Возможность обновления статусов заказов (например, "Новый", "Отправлен", "Доставлен").

### Для администраторов:
- Управление пользователями (клиентами и поставщиками).
- Мониторинг заказов и их статусов.
- Импорт и экспорт данных о товарах.
- Настройка параметров системы (например, настройка email-уведомлений).
- Полный контроль через админку.
- Запуск тестов и проверка покрытия кода тестами.

## Технологии

- **Python 3.10+**  
- **Django** — веб-фреймворк для создания приложения  
- **Django Rest Framework (DRF)** — создание RESTful API  
- **PostgreSQL** — основная база данных  
- **Redis** — кеширование и работа с Celery  
- **Celery** — выполнение асинхронных задач, таких как отправка email-уведомлений, запуск тестов, импорт/экспорт товаров  
- **Docker** — контейнеризация приложения и зависимостей  
- **Nginx** — reverse proxy для обработки HTTP-запросов  
- **Swagger/Redoc** — автоматическая документация API  
- **pytest** — написание и запуск unit- и integration-тестов  
- **pytest-django** — плагин для интеграции pytest с Django  
- **pytest-cov** — проверка покрытия кода тестами  
- **GitHub Actions** (для автоматизации CI/CD процессов, включая запуск тестов и выгрузку результатов в Coveralls)

## Установка и запуск

### Предварительные требования

1. Установить [Docker](https://www.docker.com/) и [Docker Compose](https://docs.docker.com/compose/install/).
2. Убедиться, что у вас установлена ОС Linux или MacOS. (опционально)
3. Установить Python 3.10 или новее. (опционально)
4. Установить IDE с поддержкой Python (например, PyCharm, VS Code). (опционально)

### Порядок запуска

1. Клонировать репозиторий:
   
   ```bash
   git clone https://github.com/jkeevk/diploma_shop.git
   cd diploma_shop
   ```

2. Заполнить файл `.env` необходимыми значениями переменных окружения.

3. Запустить контейнеры с помощью Docker Compose:

    ```bash
    docker-compose up -d --build
    ```

Во время запуска будут выполнены миграции базы данных, создан суперпользователь с почтой `admin@admin.com` и паролем `admin`, собраны статические файлы, и будут развернуты контейнеры Django, PostgreSQL, Celery, Redis, Nginx и Tests.

После успешного запуска сервер будет доступен по адресу: [http://127.0.0.1/](http://127.0.0.1/)

Запуск тестов командой:

```bash
docker-compose exec app pytest
```

Покрытие кода тестами:

[![Coverage Status](https://coveralls.io/repos/github/jkeevk/diploma_shop/badge.svg?branch=main)](https://coveralls.io/github/jkeevk/diploma_shop?branch=main)

### CI/CD с GitHub Actions

Для автоматизации процессов CI/CD в проекте настроены GitHub Actions. При каждом пуше изменений в репозиторий автоматически запускаются тесты, а результаты покрытия кода выгружаются в Coveralls. Это позволяет поддерживать высокое качество кода и быстро выявлять возможные проблемы.

### Документация API

Документация API доступна в следующих форматах:

- Swagger: [http://127.0.0.1/swagger](http://127.0.0.1/swagger)
- Redoc: [http://127.0.0.1/redoc](http://127.0.0.1/redoc)

Примеры и формат данных для обновления прайса поставщиков находятся в папке `data/`.

### Контакты

Если у вас есть вопросы или предложения, свяжитесь со мной:

- Email: jkeevk@yandex.ru
- TG: [jkeeincredible](https://t.me/jkeeincredible)
- GitHub: [jkeevk](https://github.com/jkeevk/)

Ссылка на задание дипломного проекта: [Диплом](https://github.com/netology-code/python-final-diplom)
